console.clear();

//TAB
var leeweisweeTAB = ['images/LeeWeiSwee/LeeWeiSwee-website.mp4']
var leeweisweeTXT = ['Lee Wee Swei, website.', "Website for the photograph Lee Wei Swee <br> <span class='learnmore'> Click to learn more... </span>", "I created a personal website for the talented <a href='https://www.instagram.com/sweeriouslee/' target='_blank'  class='link-text'>Lee Wei Swee↗︎</a>, photographer who worked for Vogue, Versace, many famous magazines and celebrities. <br> <br> The challenge of this site was to show all Lee’s photos while maintaining the “magazine” aspect because he mostly works and shoots for magazines. All his photos are displayed on the homepage, grouped by shoots/collections, showing step by step, like you are reading a magazine. (website isn't online)<br><span class='text-span'>Date: December 2021 // Languages: Html, Css, Javascript</span>"]
var nofutureTAB = ['images/No-Future/No-Future-1.jpg', 'images/No-Future/No-Future-2.jpg', 'images/No-Future/No-Future-3.jpg', 'images/No-Future/No-Future-4.jpg', 'images/No-Future/No-Future-5.jpg', 'images/No-Future/No-Future-6.jpg', 'images/No-Future/No-Future-7.jpg', 'images/No-Future/No-Future-8.jpg', 'images/No-Future/No-Future-9.jpg', 'images/No-Future/No-Future-10.jpg', 'images/No-Future/No-Future-11.jpg', 'images/No-Future/No-Future-12.jpg',]
var nofutureTXT = ['No Future, visual identity.', "Visual identity of Wit's album, custom logotype, front & back cover, editorial book <br> <span class='learnmore'> Click to learn more... </span>", "“No future” is a french hip-hop album created by <a href='https://music.apple.com/fr/artist/wit/1412648514' target='_blank'  class='link-text'> Wit↗︎</a>. My goal here was to recreate the entire visual identity passing by the front & back cover, a custom logotype and a little editorial book presenting Wit’s world. The challenge here was to align with the album universe, dark and twisted. <br><br> Firstly came the logotype with hard lines and smooth curves. Following it, the front cover arrived highlighting it. The editorial book presents Wit’s photoshoots and some album informations, like tracklist, lyrics, some details and facts. <br><span class='text-span'>Date: August 2021 // Softwares: Photoshop, Illustrator, Fontlab 5</span>"]
var cloudfilesTAB = ['images/CloudFiles/CloudFiles.mp4',]
var cloudfilesTXT = ['CloudFiles, Application UI/UX.', "User interface & experience for a cloud application <br> <span class='learnmore'> Click to learn more... </span>", "The goal of this class project was to create a full UI & UX for an application. I choosed a sharing and storing online files service. <br><span class='text-span'>Date: July 2021 // Software: Figma</span>"]
var torikarasanTAB = ['images/TorikaraSan/Torikarasan-1.mp4']
var torikarasanTXT = ['Torikara San, website.', "Website for a japanese fast-foods restaurant <br> <span class='learnmore'> Click to learn more... </span>", "In group of two we were ordered to fully create a website for a japanese fast-foods in Dijon. The challenge here was that we only got 5 days to design & developp the website from nothing <br><br>In this project I was mainly focused on the UI & UX of the website. The client here was pretty cool, gave us carte blanche but requested few things like having a google map iframe, picture of every meals etc. <br><span class='text-span'>Date: March 2021 // Software: Figma, Html, Css</span>"]



//VAR
var classImg = document.querySelectorAll(".img")
var classSectionProject = document.querySelector(".section-project")
var classWindowProject = document.querySelector(".window-project")
var classHoverImg = document.querySelectorAll('.hover-img')
var classContainerImg = document.querySelector('.containerimg')
var imgOrMov = 0
var nbrpage = 1
var fullscreenStatut = 0

var hovering = (event) => {
  hoveringElementId = event.target.id
  getTab()
}
for (var i = 0; i < classImg.length; i++) { classImg[i].addEventListener('mouseover', hovering) }

function getTab() {
  if (hoveringElementId == 'leeweiswee') {
    arrayHover = leeweisweeTAB
    arrayHoverTxt = leeweisweeTXT
    imgOrMov = 1
  }
  else if (hoveringElementId == 'nofuture') {
    arrayHover = nofutureTAB
    arrayHoverTxt = nofutureTXT
    imgOrMov = 0
  }
  else if (hoveringElementId == 'cloudfiles') {
    arrayHover = cloudfilesTAB
    arrayHoverTxt = cloudfilesTXT
    imgOrMov = 1
  }
  else if (hoveringElementId == 'torikarasan') {
    arrayHover = torikarasanTAB
    arrayHoverTxt = torikarasanTXT
    imgOrMov = 1
  }
}

//DELAY
function delay(n) {
  return new Promise(function (resolve) {
    setTimeout(resolve, n * 1);
  });
}

//FADES
async function fadeIn(param, time) {
  classParam = document.querySelector('.' + param)
  classParam.style.display = 'block'
  classParam.style.animation = 'fadeIn ' + time + 's'
  document.querySelector('html').style.pointerEvents = 'none'
  await delay(500)
  document.querySelector('html').style.pointerEvents = null
  classParam.style.animation = null
}

async function fadeOut(param, time) {
  classParam = document.querySelector('.' + param)
  classParam.style.animation = 'fadeOut ' + time + 's'
  document.querySelector('html').style.pointerEvents = 'none'
  await delay(500)
  classParam.style.display = 'none'
  document.querySelector('html').style.pointerEvents = null
  classParam.style.animation = null
}

// ------- functions ------- //
if (window.matchMedia("(min-width: 769px)").matches) {

  //PREVIEW PROJECT
  for (var i = 0; i < classImg.length; i++) {
    classImg[i].addEventListener('click', previewProject)
  }
  async function previewProject() {
    fadeOut('section-home', '.5')
    await delay(500)
    fadeIn('section-project', '.5')

    document.querySelector('.title-project').innerHTML = arrayHoverTxt[0]
    document.querySelector('.description-project').innerHTML = arrayHoverTxt[2]

    if (imgOrMov == 0) {
      for (var i = 0; i < arrayHover.length; i++) {
        var newDivImg = document.createElement("img")
        newDivImg.classList.add('tryimg')
        newDivImg.src = arrayHover[i]
        document.querySelector('.containerimg').appendChild(newDivImg);
      }
    } else {
      for (var i = 0; i < arrayHover.length; i++) {
        var newDivImg = document.createElement("video")
        newDivImg.classList.add('trymp4')
        newDivImg.setAttribute('playsinline', 'playsinline')
        newDivImg.setAttribute('loop', 'loop')
        newDivImg.setAttribute('autoplay', 'autoplay')
        newDivImg.setAttribute('muted', 'muted')
        newDivImg.src = arrayHover[i]
        document.querySelector('.containerimg').appendChild(newDivImg);

      }
    }
  }
  // document.querySelector('.title-project').innerHTML = arrayHoverTxt[0]
  // document.querySelector('.description-project').innerHTML = arrayHoverTxt[2]
  // document.querySelector('.window-nbr').innerHTML = "1/" + arrayHover.length

  // document.querySelector('.window-project').style.height = '500px'
  // document.querySelector('.movprjt').style.height = '476px'


  // if (hoveringElementId == 'cloudfiles') {
  //   document.querySelector('.window-project').style.height = '650px'
  //   document.querySelector('.movprjt').style.height = '627px'
  // }
  // if (hoveringElementId == 'torikarasan') {
  //   document.querySelector('.window-project').style.height = '500px'
  //   document.querySelector('.movprjt').style.height = '477px'
  // }

  // if (imgOrMov == 0) {
  //   document.querySelector('.imgprjt').style.display = 'block'
  //   document.querySelector('.imgprjt').src = arrayHover[0]
  //   document.querySelector('.window-nbr').innerHTML = "1/" + arrayHover.length
  //   document.querySelector('.window-title').innerHTML = hoveringElementId + ".jpg"
  //   classHoverImg[0].style.display = 'block'
  //   classHoverImg[1].style.display = 'block'

  // } else {
  //   document.querySelector('.movprjt').style.display = 'block'
  //   document.querySelector('.movprjt').src = arrayHover[0]
  //   document.querySelector('.window-title').innerHTML = hoveringElementId + ".mov"
  //   classHoverImg[0].style.display = 'none'
  //   classHoverImg[1].style.display = 'none'
  // }
  //}

  //HOVER IMG
  for (var i = 0; i < classImg.length; i++) {
    classImg[i].addEventListener('mouseover', hoverImg)
  }
  function hoverImg() {
    document.querySelector('.title').innerHTML = arrayHoverTxt[0]
    document.querySelector('.title').style.color = '#0636dd'
    document.querySelector('.container-description').innerHTML = arrayHoverTxt[1]
    document.querySelector('.container-description').style.display = 'block'
    document.querySelector('.container-description').style.color = '#0636dd'
  }
  for (var i = 0; i < classImg.length; i++) {
    classImg[i].addEventListener('mouseout', function () {
      document.querySelector('.title').innerHTML = 'Nicolas Goyer'
      document.querySelector('.title').style.color = 'black'
      document.querySelector('.container-description').innerHTML = ''

    })
  }

  //SKIP IMG
  // function skipImg() {
  //   if (nbrpage > arrayHover.length - 1) {
  //     nbrpage = 0
  //   }
  //   document.querySelector(".imgprjt").src = arrayHover[nbrpage];
  //   document.querySelector('.window-nbr').innerHTML = (nbrpage + 1) + "/" + arrayHover.length
  //   nbrpage++
  // }
  // document.querySelector('.next').addEventListener('click', skipImg)

  //PREV IMG
  // function prevImg() {
  //   if (nbrpage == 1) {
  //     nbrpage = arrayHover.length + 1
  //   }
  //   document.querySelector(".imgprjt").src = arrayHover[nbrpage - 2];
  //   nbrpage--
  //   document.querySelector('.window-nbr').innerHTML = (nbrpage) + "/" + arrayHover.length
  // }
  // document.querySelector('.prev').addEventListener('click', prevImg)

  //PAUSE & PLAY VIDEO
  // var playingOrPaused = 0

  // document.querySelector('.movprjt').addEventListener('click', playPause)
  // function playPause() {
  //   if (playingOrPaused == 0) {
  //     document.querySelector('.movprjt').pause()
  //     document.querySelector('.movprjt').style.cursor = ' url("images/emoji/play.svg"), auto'
  //     playingOrPaused = 1
  //   } else {
  //     document.querySelector('.movprjt').play()
  //     document.querySelector('.movprjt').style.cursor = ' url("images/emoji/pause.svg"), auto'
  //     playingOrPaused = 0
  //   }


  //BTN BACK
  document.querySelector('.back').addEventListener('click', backToHome)
  async function backToHome() {
    fadeOut('section-project', '.5')
    await delay(500)
    fadeIn('section-home', '.5')

    //clear containerimg
    while (classContainerImg.firstChild) {
      classContainerImg.removeChild(classContainerImg.firstChild);
    }
  }


}
//BTN FULLSCREEN
// document.querySelector('.btn-fullscreen').addEventListener('click', fullscreen)
// function fullscreen() {
//   fullscreenStatut = 1

//   document.querySelector('.title-project').style.display = 'none'
//   document.querySelector('.description-project').style.display = 'none'

//   classSectionProject.style.display = 'flex'
//   classSectionProject.style.height = '100vh'
//   classSectionProject.style.alignItems = 'center';
//   classSectionProject.style.justifyContent = 'center';

//   classWindowProject.style.position = 'inherit'
//   classWindowProject.style.height = '95vh'

//   classHoverImg[0].style.height = '726px'
//   classHoverImg[1].style.height = '726px'


//   if (imgOrMov == 0) {
//     document.querySelector('.imgprjt').style.height = (classWindowProject.clientHeight) - 24 + "px"
//   }
//   else {
//     document.querySelector('.movprjt').style.height = (classWindowProject.clientHeight) - 24 + "px"
//   }
// }
//HOVER BTN FULLSCREEN
// document.querySelector('.btn-fullscreen').addEventListener('mouseover', function () {
//   document.querySelector('#darkblue').style.display = 'block'
// })
// document.querySelector('.btn-fullscreen').addEventListener('mouseout', function () {
//   document.querySelector('#darkblue').style.display = 'none'
// })


// //BTN CLOSE
// document.querySelector('.btn-close').addEventListener('click', removeFullscreen)
// function removeFullscreen() {
//   if (fullscreenStatut == 0) {
//     classWindowProject.style.display = 'none'
//     document.querySelector('.btn-minimize').style.display = 'block'
//     if (imgOrMov == 0) {
//       document.querySelector('.btn-minimize').innerHTML = '.img'
//     } else {
//       document.querySelector('.btn-minimize').innerHTML = '.mov'
//     }
//   }

//   else {
//     classSectionProject.style.display = 'block'
//     classSectionProject.style.height = '100vh'
//     classSectionProject.style.alignItems = 'center';
//     classSectionProject.style.justifyContent = 'center';

//     document.querySelector('.title-project').style.display = 'block'
//     document.querySelector('.description-project').style.display = 'block'


//     classWindowProject.style.position = 'absolute'
//     classWindowProject.style.height = '500px'
//     classWindowProject.style.top = null
//     classWindowProject.style.left = null
//     classWindowProject.style.right = '2em'
//     classWindowProject.style.bottom = '4em'

//     if (imgOrMov == 0) {
//       document.querySelector('.imgprjt').style.height = (classWindowProject.clientHeight) - 24 + "px"
//     }
//     else {
//       document.querySelector('.movprjt').style.height = (classWindowProject.clientHeight) - 24 + "px"
//     }

//     fullscreenStatut = 0
//   }
// }
// //HOVER BTN FULLSCREEN
// document.querySelector('.btn-close').addEventListener('mouseover', function () {
//   document.querySelector('#darkgrey').style.display = 'block'
// })
// document.querySelector('.btn-close').addEventListener('mouseout', function () {
//   document.querySelector('#darkgrey').style.display = 'none'
// })

// //BTN MINIMIZE UNDISPLAY
// document.querySelector('.btn-minimize').addEventListener('click', undisplayMinimize)
// function undisplayMinimize() {
//   classWindowProject.style.display = 'block'
//   document.querySelector('.btn-minimize').style.display = 'none'

// }

// //HOVER ABOUT
// document.querySelector('.about').addEventListener('mouseover', displayAbout)
// async function displayAbout() {
//   document.querySelector('.block-blue').style.height = document.body.clientHeight + 'px'
//   document.querySelector('.block-blue').style.display = 'block'
//   document.querySelector('.container-about').style.display = 'flex'
//   document.querySelector('.about').style.color = 'white'
//   document.querySelector('.title').style.opacity = '0%'
//   document.querySelectorAll('.hyperlink')[0].style.opacity = '0%'
//   document.querySelectorAll('.hyperlink')[1].style.opacity = '0%'
//   document.querySelectorAll('.hyperlink')[2].style.opacity = '0%'
// }
// document.querySelector('.about').addEventListener('mouseout', hideAbout)
// async function hideAbout() {
//   document.querySelector('.about').style.color = 'black'
//   document.querySelector('.title').style.opacity = '100%'
//   document.querySelectorAll('.hyperlink')[0].style.opacity = '100%'
//   document.querySelectorAll('.hyperlink')[1].style.opacity = '100%'
//   document.querySelectorAll('.hyperlink')[2].style.opacity = '100%'
//   document.querySelector('.container-about').style.display = 'none'
//   document.querySelector('.block-blue').style.display = 'none'

// }

//DRAGGABLE WINDOWS
//   dragElement(document.querySelector(".window-project"));
//   function dragElement(elmnt) {
//     var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
//     // the header is where you move the DIV from:
//     document.getElementById(elmnt.id + "window-header").onmousedown = dragMouseDown;


//     function dragMouseDown(e) {
//       e = e || window.event;
//       e.preventDefault();
//       // get the mouse cursor position at startup:
//       pos3 = e.clientX;
//       pos4 = e.clientY;
//       document.onmouseup = closeDragElement;
//       // call a function whenever the cursor moves:
//       document.onmousemove = elementDrag;
//     }

//     function elementDrag(e) {
//       e = e || window.event;
//       e.preventDefault();
//       // calculate the new cursor position:
//       pos1 = pos3 - e.clientX;
//       pos2 = pos4 - e.clientY;
//       pos3 = e.clientX;
//       pos4 = e.clientY;
//       // set the element's new position:
//       elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
//       elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
//     }

//     function closeDragElement() {
//       // stop moving when mouse button is released:
//       document.onmouseup = null;
//       document.onmousemove = null;
//     }
//   }
// }


//MEDIA
if (window.matchMedia("(max-width: 768px)").matches) {
  //DISPLAY IMG MOBILE
  for (var i = 0; i < classImg.length; i++) {
    classImg[i].addEventListener('click', mobileImgDisplay)
  }
  function mobileImgDisplay() {
    if (imgOrMov == 0) {
      for (var i = 0; i < arrayHover.length; i++) {
        var newDivImg = document.createElement("img")
        newDivImg.classList.add('mobileimg')
        newDivImg.src = arrayHover[i]
        document.querySelector('.mobileimgdiv').appendChild(newDivImg);
      }
    } else {
      for (var i = 0; i < arrayHover.length; i++) {
        var newDivImg = document.createElement("video")
        newDivImg.classList.add('mobileimg')
        newDivImg.setAttribute('playsinline', 'playsinline')
        newDivImg.setAttribute('loop', 'loop')
        newDivImg.setAttribute('autoplay', 'autoplay')
        newDivImg.setAttribute('muted', 'muted')
        newDivImg.src = arrayHover[i]
        document.querySelector('.mobileimgdiv').appendChild(newDivImg);

        if (hoveringElementId == "cloudfiles") {
          document.querySelector('.mobileimg').style.width = '70%'
          document.querySelector('.mobileimg').style.backgroundColor = 'white'
          document.querySelector('.mobileimg').style.objectPosition = '0px 1px'
        }

        if (hoveringElementId == "torikarasan") {
          document.querySelector('.mobileimg').style.backgroundColor = '#FFF6EE'
          document.querySelector('.mobileimg').style.objectPosition = '0px 1px'
        }
      }
    }
  }

  //BTN BACK
  document.querySelector('.back').addEventListener('click', mobileBackToHome)
  async function mobileBackToHome() {
    fadeOut('section-project', '.5')
    await delay(500)
    fadeIn('section-home', '.5')

    var elem = document.querySelector(".mobileimgdiv");
    while (elem.firstChild) {
      elem.removeChild(elem.firstChild);
    }
  }

  //PREVIEW IMG
  for (var i = 0; i < classImg.length; i++) {
    classImg[i].addEventListener('click', previewProjectMobile)
  }
  async function previewProjectMobile() {

    fadeOut('section-home', '.5')
    await delay(500)
    fadeIn('section-project', '.5')

    document.querySelector('.title-project').innerHTML = arrayHoverTxt[0]
    document.querySelector('.description-project').innerHTML = arrayHoverTxt[2]
  }

}

